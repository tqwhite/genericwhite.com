<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE -- ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: [object Object]
	@module can-observation
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CanJS - can-observation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
		<link rel="stylesheet" type="text/css" href="./static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
		<label for="nav-trigger">Menu</label>
	  	<div id="everything">
  <div id="left" class="column">
    <div class="top-left">
      
          <div class="brand">
	<div class="logo">
		<a href="../index.html" alt="CanJS"></a>
		<div class="dropdown project-dropdown">
			<a href="https://donejs.com/">DoneJS</a>
			<a href="http://stealjs.com/">StealJS</a>
			<a href="http://jquerypp.com/">jQuery ++</a>
			<a href="https://funcunit.com/">FuncUnit</a>
			<a href="http://documentjs.com/">DocumentJS</a>
		</div>
	</div>
	<div class="version">
		<div class="version-number">
			3.2.2
		</div>
		<div class="dropdown version-dropdown">
			
				<a href="https://v2.canjs.com">2.3.27</a>
			
		</div>
	</div>
</div>

<div class="search-bar">
	<p>
		&nbsp;
	</p>
</div>

      
    </div>
    <div class="bottom-left">
       <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../docs/images/github.png">Github</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://gitter.im/canjs/canjs" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="http://forums.donejs.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>

      </div>
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="guides.html"
							title="Welcome to CanJS! These guides are here to help you develop and improve your relationship with CanJS. After all, picking a JavaScript framework is a commitment.  We want CanJS to be the framework you marry.  This page helps you know how to advance through the different stages of this relationship:">
							Guides
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-core.html"
							title="The best, most hardened and generally useful libraries in CanJS.">
							Core
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="can-infrastructure.html"
							title="Utility libraries that power the core and ecosystem collection.">
							Infrastructure
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-cid.html"
							title="can-cid">
							can-cid
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-construct.html"
							title="Provides a way to easily use the power of prototypal inheritance
without worrying about hooking up all the particulars yourself. Use
can-construct.extend to create an inheritable
constructor function of your own.">
							can-construct
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-control.html"
							title="Create organized, memory-leak free, rapidly performing, stateful controls with declarative event binding. Use Control to create UI
controls like tabs, grids, and context menus,
and organize them into higher-order business rules with
can.route. It can serve as both a traditional view and a traditional controller.">
							can-control
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event.html"
							title="Add event functionality into your objects.
The canEvent object provides a number of methods for handling events in objects. This functionality is best used by mixing the canEvent object into an object or prototype. However, event listeners can still be used even on objects that don&#x27;t include canEvent.
All methods provided by canEvent assume that they are mixed into an object -- this should be the object dispatching the events.">
							can-event
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event/async/async.html"
							title="Makes the event system asynchronous. WARNING: This is experimental technology.">
							can-event/async/async
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event/batch/batch.html"
							title="Adds task batching abilities to event dispatching.">
							can-event/batch/batch
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-namespace.html"
							title="Namespace where can-* packages are registered">
							can-namespace
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="module"
							href="can-observation.html"
							title="Provides a mechanism to notify when an observable has been read and a
way to observe those reads called within a given function.">
							can-observation
						</a>
						
							
	<ul>
		
			
				
					<li>
						<span>types</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="typedef"
							href="can-observation.getTrapped.html"
							title="">
							getTrapped
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="typedef"
							href="can-observation.observed.html"
							title="An object representing an observation.
{ &quot;obj&quot;: map, &quot;event&quot;: &quot;prop1&quot; }">
							Observed
						</a>
						
					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>static</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.add.html"
							title="Signals that an object&#x27;s property is being observed, so that any functions
that are recording observations will see that this object is a dependency.">
							add
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.addAll.html"
							title="can-observation.addAll">
							addAll
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.ignore.html"
							title="can-observation.ignore">
							ignore
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.isRecording.html"
							title="can-observation.isRecording">
							isRecording
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.trap.html"
							title="can-observation.trap">
							trap
						</a>
						
					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>prototype</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.prototype.start.html"
							title="">
							start
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-observation.prototype.stop.html"
							title="">
							stop
						</a>
						
					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-simple-map.html"
							title="A performant live-bound map.">
							can-simple-map
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-types.html"
							title="A stateful container for CanJS type information.">
							can-types
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-util.html"
							title="Common JavaScript utilities for the rest of CanJS.">
							can-util
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-callbacks.html"
							title="Registered callbacks for behaviors">
							can-view-callbacks
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-live.html"
							title="Setup live-binding between the DOM and a compute manually.">
							can-view-live
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-model.html"
							title="Gets the ViewModel of an element.">
							can-view-model
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-nodelist.html"
							title="Adds nesting of text nodes
can.view.nodeLists are used to make sure &quot;directly nested&quot; live-binding
sections update content correctly.
Consider the following template:
&lt;div&gt;
{{#if items.length}}
    Items:
        {{#items}}
            &lt;label&gt;&lt;/label&gt;
        {{/items}}
{{/if}}
&lt;/div&gt;

The {{#if}} and {{#items}} seconds are &quot;directly nested&quot; because
they share the same &lt;div&gt; parent element.
If {{#items}} changes the DOM by adding more &lt;labels&gt;,
{{#if}} needs to know about the &lt;labels&gt; to remove them
if {{#if}} is re-rendered.  {{#if}} would be re-rendered, for example, if
all items were removed.">
							can-view-nodelist
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-parser.html"
							title="Parse HTML and mustache tokens.">
							can-view-parser
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-scope.html"
							title="Create a lookup node for keys.">
							can-view-scope
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-target.html"
							title="">
							can-view-target
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-ecosystem.html"
							title="Useful libraries that extend or add important features to the core collection.">
							Ecosystem
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-legacy.html"
							title="Former libraries that we still accept patches for, but are not under active development.">
							Legacy
						</a>
						
					</li>
				
			
		
	</ul>


        
    </div>
  </div>
  <div id="right" class="column">
    <div class="top-right">
      <div class="top-right-top">
	<ul class="top-right-bitovi">
	  	<li class="dropdown">
	    	<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
	    	<ul class="dropdown-menu">
	      		<li><a href="http://bitovi.com">Bitovi.com</a></li>
	      		<li><a href="http://bitovi.com/blog/">Blog</a></li>
	      		<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
	      		<li><a href="http://bitovi.com/training/">Training</a></li>
	      		<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
	    	</ul>
	  	</li>
	</ul>
	<div class="brand">
		<div class="logo">
			<a href="../index.html" alt="CanJS"></a>
		</div>
	</div>
	<ul class="top-right-links">
  <li>
    <a href="https://gitter.im/canjs/canjs">Chat</a>
  </li>
  <li>
    <a href="http://forums.donejs.com/c/canjs">Forum</a>
  </li>
  <li>
    <a class="github-button nav-social" href="https://github.com/canjs/canjs" data-count-href="/canjs/canjs/stargazers" data-count-api="/repos/canjs/canjs#stargazers_count">Star</a>
  </li>
  <li>
    <a href="https://twitter.com/canjs" class="twitter-follow-button nav-social" data-show-count="true" data-show-screen-name="false">Follow @canjs</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </li>
</ul>
</div>
<div class="breadcrumb">
	
		<li><a href="../index.html">CanJS</a></li> /
	
		<li><a href="can-infrastructure.html">Infrastructure</a></li> /
	
	
	<li><a href="can-observation.html">can-observation</a></li>
	
	<li class="breadcrumb-dropdown">/ <a> On this page</a>
	  <ul class="on-this-page"></ul>
	</li>
	<div class="nav-toggle" title="Back to top"></div>
</div>


    </div>
    <div class="bottom-right">
      <article>
  <section class="title">
	<div class="page-type">
		<h1>can-observation</h1>
		<div>module</div>
	</div>
	
  
	<section class="description">
    <p>Provides a mechanism to notify when an observable has been read and a
way to observe those reads called within a given function.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
</section>
<section class="title-footer">
	
		<ul class="title-social">
			<li>
				<a class="npm-button" href="https://www.npmjs.com/package/can-observation">
					<img src="https://img.shields.io/badge/npm%20package-3.0.5-brightgreen.svg" alt="npm package badge" />
				</a>
			</li>
			<li>
			<a class="github-button nav-social" href="https://github.com/canjs/can-observation"
				data-count-href="/canjs/can-observation/stargazers"
				data-count-api="/repos/canjs/can-observation#stargazers_count">Star</a>
	  	</li>
		</ul>
	
	
		<ul class="title-links">
			<!-- <li><a href="#">docco</a></li> -->
			<li><a href="//github.com/canjs/can-observation/tree/v3.0.5/can-observation.js#L20">source</a></li>
			<!-- <li><a href="#">download</a></li> -->
			<!-- <li><a href="#">tests</a></li> -->
		</ul>
	
</section>







<div class="signature">
  <h2 class="signature-title">
    <code>new Observation(func, context, compute)</code>
  </h2>
  <p>Creates an observation of a given function called with <code>this</code> as
a given context. Calls back <code>compute</code> when the return value of <code>func</code> changes.</p>

  
  <div class="parameters">
    <h3 class="parameters-title">Parameters</h3>
      <ol>
        
          <li><b>func</b> <code>{function}</code>: <p>The function whose value is being observed.</p>
</li>
        
          <li><b>context</b> <code>{*}</code>: <p>What <code>this</code> should be when <code>func</code> is called.</p>
</li>
        
          <li><b>updated</b> <code>{function(newValue, oldValue, batchNum)}</code>: <p>A function to call when <code>func</code>'s return value changes.</p>
</li>
        
      </ol>
  </div>
  
  
  
</div>





  
    <section class="body">
    <h2>Use</h2>
<p>Instances of <code>Observation</code> are rarely created directly.  Instead, use <a href="can-compute.html" title="Create an observable value.">can-compute</a>'s more friendly API to
observe when a function's value changes. <a href="can-compute.html" title="Create an observable value.">can-compute</a> uses <code>can-observation</code> internally.</p>
<p><code>Observation</code>'s static methods like: <a href="can-observation.add.html" title="Signals that an object's property is being observed, so that any functions
that are recording observations will see that this object is a dependency.">add</a>, <a href="can-observation.ignore.html" title="can-observation.ignore">ignore</a>, and <a href="can-observation.trap.html" title="can-observation.trap">trap</a>
are used more commonly to control which observable events a compute will listen to.</p>
<p>To use <code>can-observation</code> directly, create something observable (supports <code>addEventListener</code>) and
calls <a href="can-observation.add.html" title="Signals that an object's property is being observed, so that any functions
that are recording observations will see that this object is a dependency.">add</a> like:</p>
<pre><code class="language-js">var Observation = require(&quot;can-observation&quot;);
var assign = require(&quot;can-util/js/assign/assign&quot;);
var canEvent = require(&quot;can-event&quot;);

var me = assign({}, canEvent);

var name = &quot;Justin&quot;;
Object.defineProperty(me,&quot;name&quot;,{
  get: function(){
    Observation.add(this,&quot;name&quot;);
    return name;
  },
  set: function(newVal) {
    var oldVal = name;
    name = newVal;
    this.dispatch(&quot;name&quot;, newVal, oldVal);
  }
})
</code></pre>
<p>Next, create an observation instance with a function that reads the observable value:</p>
<pre><code class="language-js">var observation = new Observation(function(){
  return &quot;Hello &quot;+me.name;
}, null, function(newVal, oldVal, batchNum){
  console.log(newVal);
})
</code></pre>
<p>Finally, call <code>observation.start()</code> to start listening and be notified of changes:</p>
<pre><code class="language-js">observation.start();
observation.value   //-&gt; &quot;Hello Justin&quot;;
me.name = &quot;Ramiya&quot;; // console.logs -&gt; &quot;Hello Ramiya&quot;
</code></pre>

</section>

  


<script type="text/javascript">
  var docObject = {"type":"module","name":"can-observation","parent":"can-infrastructure","src":{"line":20,"codeLine":93,"path":"node_modules/can-observation/can-observation.js"},"description":"\nProvides a mechanism to notify when an observable has been read and a\nway to observe those reads called within a given function.\n","title":"","types":[{"type":"constructor"}],"package":{"author":{"name":"Bitovi","email":"contact@bitovi.com","url":"http://bitovi.com"},"bit-docs":{"dependencies":{"bit-docs-glob-finder":"^0.0.5","bit-docs-dev":"^0.0.3","bit-docs-js":"^0.0.3","bit-docs-generate-readme":"^0.0.8"},"glob":{"pattern":"**/*.{js,md}","ignore":"node_modules/**/*"},"readme":{"apis":"./docs/apis.json"},"parent":"can-observation"},"bugs":{"url":"https://github.com/canjs/can-observation/issues"},"dependencies":{"can-cid":"^1.0.0","can-event":"^3.0.1","can-namespace":"1.0.0","can-types":"^1.0.1","can-util":"^3.1.1"},"description":"Core observable indicators","devDependencies":{"bit-docs":"^0.0.7","can-compute":"^3.0.4","can-define":"^1.0.1","can-map":"^3.0.3","done-serve":"^0.2.4","donejs-cli":"^0.9.5","generator-donejs":"^0.9.0","jshint":"^2.9.1","steal":"^0.16.0","steal-benchmark":"0.0.1","steal-qunit":"^0.1.1","steal-tools":"^0.16.0","testee":"^0.3.0"},"directories":{},"dist":{"shasum":"28cd78b7a2752eae4fa72d53b852bc43979046f9","tarball":"https://registry.npmjs.org/can-observation/-/can-observation-3.0.5.tgz"},"gitHead":"afbc2e8d67c65e1002c631d7734c86b33e232360","homepage":"http://canjs.com","keywords":["canjs","canjs-plugin","donejs"],"main":"can-observation","maintainers":[{"name":"daffl","email":"daff@neyeon.de"},{"name":"justinbmeyer","email":"justin@bitovi.com"},{"name":"matthewp","email":"matthew@matthewphillips.info"},{"name":"phillipskevin","email":"kphillips86@gmail.com"},{"name":"sinjhin","email":"john@ardea.io"}],"name":"can-observation","optionalDependencies":{},"repository":{"type":"git","url":"git://github.com/canjs/can-observation.git"},"scripts":{"build":"node build.js","develop":"done-serve --static --develop --port 8080","document":"bit-docs","jshint":"jshint *.js reader/*.js --config","postversion":"git push --tags && git checkout master && git branch -D release && git push","preversion":"npm test && npm run build","release:major":"npm version major && npm publish","release:minor":"npm version minor && npm publish","release:patch":"npm version patch && npm publish","release:pre":"npm version prerelease && npm publish","test":"npm run jshint && npm run testee","testee":"testee test.html --browsers firefox","version":"git commit -am \"Update dist for release\" && git checkout -b release && git add -f dist/"},"system":{"configDependencies":["live-reload"],"npmAlgorithm":"flat"},"version":"3.0.5"},"signatures":[{"code":"new Observation(func, context, compute)","description":"\n\nCreates an observation of a given function called with `this` as\na given context. Calls back `compute` when the return value of `func` changes.\n","params":[{"types":[{"type":"function","returns":{"types":[{"type":"undefined"}]},"params":[]}],"name":"func","description":"The function whose value is being observed."},{"types":[{"type":"*"}],"name":"context","description":"What `this` should be when `func` is called."},{"types":[{"type":"function","returns":{"types":[{"type":"can-compute"}]},"params":[{"types":[{"type":"*"}],"name":"newValue"},{"types":[{"type":"*"}],"name":"oldValue"},{"types":[{"type":"Number"}],"name":"batchNum"}]}],"name":"updated","description":"A function to call when `func`'s return value changes.\n"}]}],"_curParam":{"types":[{"type":"function","returns":{"types":[{"type":"can-compute"}]},"params":[{"types":[{"type":"*"}],"name":"newValue"},{"types":[{"type":"*"}],"name":"oldValue"},{"types":[{"type":"Number"}],"name":"batchNum"}]}],"name":"updated","description":"A function to call when `func`'s return value changes.\n"},"comment":" ","pathToRoot":".."};
</script>
</article>
	  
        <footer><p>CanJS is part of <a href="http://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#section=section_Team" target="_blank">DoneJS team</a> and <a href="http://bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 3.2.2.</strong></p></footer>
	      </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="./static/node_modules/steal/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>
	</body>
</html>
